.aw-button {
    @apply inline-block cursor-pointer relative rounded; /* shape */
    @apply text-center text-xs font-medium leading-loose tracking-wider no-underline; /* text */
    vertical-align: middle;
    transition: 100ms opacity;


    &:focus {
        outline: none;
    }

    &__overlay {
        @apply absolute inset-0 overflow-hidden;
    }

    &__overlay {
        @apply opacity-0;
        background-color: currentColor;
        transition: 100ms opacity;
    }

    &__overlay {
        @apply rounded;
    }


    &__content {
        @apply relative;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        transition: 100ms opacity;

        &:focus {
            outline: none;
        }
    }

    &:not(:disabled):hover > &__overlay {
        opacity: 0.2;
    }

    &:not(:disabled):active {
        transform: translateY(1px);
    }

    &:not(:disabled):active > &__overlay {
        opacity: 0.2;
    }

    &:focus > &__content {
        /* opacity: 0.15; */
        outline: theme('focusOutline', 'none');
    }

    /**
     * Sizes
     */
    &__content_xs {
        @apply px-4;
        font-size: 0.625rem;
    }

    &.theme-icon &__content_xs {
        width: theme('spacing.6');
        height: theme('spacing.6');
    }

    &__content_sm {
        @apply px-5 py-1;
    }

    &.theme-icon &__content_sm {
        width: theme('spacing.8');
        height: theme('spacing.8');
    }

    &__content_md {
        @apply px-6 py-2 text-sm;
    }

    &.theme-icon &__content_md {
        width: theme('spacing.12');
        height: theme('spacing.12');
    }

    &__content_lg {
        @apply px-8 py-3 text-sm;
    }

    &.theme-icon &__content_lg {
        width: theme('spacing.16');
        height: theme('spacing.16');
    }

    /**
     * Disabled style
     */

    &[disabled] {
        @apply opacity-50;
        cursor: not-allowed!important;
        user-select: none!important;
    }

    /**
     * Loading styles
     */

    &.is-loading {
    @apply opacity-50;
    cursor: wait!important;
    user-select: none!important;
    }

    &.is-loading rect,
    &.is-loading svg {
        fill: currentColor;
    }

    &.is-loading &__loader {
        @apply absolute h-2;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        max-width: 80%;
    }

}

/**
 * Colors
 */
@each $color in (info, success, warning, error, surface) {
    .aw-button {
        /* Solid */
        &.theme-solid.color-$(color) {
            @apply bg-$(color);
        }
        
        &.theme-outline.color-$(color) &__overlay {
            @apply bg-$(color);
        }

        /* Outline */
        /* Link */
        &.theme-ghost.color-$(color) {
            @apply text-$(color);
        }
    }
}

.aw-button {
    &.theme-outline {
        @apply text-on-muted-dark;
    }
}

/* default color */
.aw-button {

    /* Solid */
    &.theme-solid.color-default {
        @apply bg-surface;
    }

    /* Outline */


    /* Link */
    &.theme-outline.color-default,
    &.theme-ghost.color-default {
        @apply text-on-muted-dark;
    }
}

/**
 * Types
 */
.aw-button {
    &.theme-solid {
        @apply shadow-button;

        &:not(:disabled):active {
            @apply shadow-button-active;
        }
    }

    &.theme-solid &__overlay {
        @apply bg-overlay;
    }

    &.theme-solid &__content {
        text-shadow: 0px 1px 1px rgba(0, 0, 0, 0.15);
    }

    &.theme-outline {
        border: 1px solid currentColor
    }

    &.theme-ghost &__overlay {
        @apply rounded;
    }

    &.theme-toggle &__overlay {
        @apply bg-overlay;
    }

    &.theme-toggle:hover &__overlay,
    &.theme-toggle:focus &__overlay {
        @apply opacity-0;
    }

    &.theme-toggle.is-active &__overlay {
        @apply opacity-10;
    }

    &.theme-icon {
        @apply p-0 min-w-0;
    }

    &.theme-icon &__overlay {
        @apply hidden;
    }

    &.theme-toggle &__content,
    &.theme-icon &__content {
        @apply opacity-40;
    }

    &.theme-toggle.is-text-active &__content {
        @apply opacity-100;
    }

    &.theme-toggle:hover &__content,
    &.theme-icon:hover &__content,
    &.theme-toggle:focus &__content,
    &.theme-icon:focus &__content {
        @apply opacity-90;
    }
}

/**
 * Button group
 */
.aw-button-group {
    @apply flex flex-wrap;

    .aw-button {
        margin: 0;

        &:first-child {
            @apply rounded-r-none;
        }

        &:last-child {
            @apply rounded-l-none;
        }

        &:not(:last-child):not(:first-child) {
            @apply rounded-none;
        }

        /* Outlined group */
        &.theme-outline {

            &:hover {
                @apply z-1;
            }

            &:not(:first-child) {
                @apply -ml-px;
            }
        }
    }
}
